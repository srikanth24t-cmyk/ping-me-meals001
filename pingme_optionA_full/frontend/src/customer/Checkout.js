import React,{useState} from 'react';import { createOrder } from '../../frontend_api_stub';export default function Checkout({cart,clearCart}){const[name,setName]=useState('');const[phone,setPhone]=useState('');const[addr,setAddr]=useState('');async function place(){if(!phone||cart.length===0)return alert('Missing');const p={name,phone,items:cart.map(c=>({menu_id:c.menu_id,qty:c.qty})),delivery_addr:addr,note:''};const r=await createOrder(p);if(r.orderId){window.location.href=`https://wa.me/${phone}?text=${encodeURIComponent('CONFIRM '+r.orderId)}`;clearCart();}else alert('Order failed');}return(<div style={{marginTop:12}}><h3>Checkout</h3><input placeholder='Name' value={name} onChange={e=>setName(e.target.value)} /><input placeholder='Phone (e.g. 919876543210)' value={phone} onChange={e=>setPhone(e.target.value)} /><input placeholder='Delivery address' value={addr} onChange={e=>setAddr(e.target.value)} /><button className='button' onClick={place}>Place Order</button></div>)}